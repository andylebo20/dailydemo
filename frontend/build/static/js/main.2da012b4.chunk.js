(this.webpackJsonpdailydashboard=this.webpackJsonpdailydashboard||[]).push([[0],{32:function(e,t,o){e.exports=o(54)},37:function(e,t,o){},38:function(e,t,o){e.exports=o.p+"static/media/logo.5d5d9eef.svg"},39:function(e,t,o){},54:function(e,t,o){"use strict";o.r(t);var a=o(2),n=o.n(a),c=o(29),i=o.n(c),s=(o(37),o(17)),r=o(18),d=o(12),l=o(20),u=o(21),h=(o(38),o(39),o(19)),m=o(9),v=function(e){Object(u.a)(o,e);var t=Object(l.a)(o);function o(e){var a;return Object(s.a)(this,o),(a=t.call(this,e)).state={callLink:""},a.createRoom=a.createRoom.bind(Object(d.a)(a)),a}return Object(r.a)(o,[{key:"createRoom",value:function(){fetch("/createRoom",{method:"post"}).then((function(e){return e.json()})).then(function(e){this.setState({callLink:"/Room/"+e.name})}.bind(this)).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement("button",{onClick:this.createRoom},"Create and navigate to room"),n.a.createElement(h.b,{to:this.state.callLink},this.state.callLink))}}]),o}(n.a.Component),p=Object(m.e)(v);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var b=o(22),f=o.n(b);f.a.initializeApp({apiKey:"AIzaSyDG3goJB9T9DQzoeY56SxFYyebVp9HCuj0",authDomain:"dailydashboard-80ccc.firebaseapp.com",databaseURL:"https://dailydashboard-80ccc.firebaseio.com",projectId:"dailydashboard-80ccc",storageBucket:"dailydashboard-80ccc.appspot.com",messagingSenderId:"19890360437",appId:"1:19890360437:web:06ac7f9b1fc46c853ba83c",measurementId:"G-X44BZG74J5"}),f.a.analytics();var k=f.a,S=function(e){Object(u.a)(o,e);var t=Object(l.a)(o);function o(e){var a;return Object(s.a)(this,o),(a=t.call(this,e)).getTheNetworkStats=a.getTheNetworkStats.bind(Object(d.a)(a)),a.saveMetrics=a.saveMetrics.bind(Object(d.a)(a)),a.metricsHistory=[],a}return Object(r.a)(o,[{key:"getTheNetworkStats",value:function(){"left-meeting"!==this.callFrame.meetingState()&&this.callFrame.getNetworkStats().then(function(e){console.log(e),setTimeout(this.getTheNetworkStats,1e3);var t=e.stats.latest;null!=t.timestamp&&this.metricsHistory.push({videoRecvBitsPerSecond:t.videoRecvBitsPerSecond,videoSendBitsPerSecond:t.videoSendBitsPerSecond,videoRecvPacketLoss:t.videoRecvPacketLoss,videoSendPacketLoss:t.videoSendPacketLoss})}.bind(this)).catch((function(e){console.log(e)}))}},{key:"saveMetrics",value:function(){console.log(this.metricsHistory),this.db.collection("person1").doc().set({videoRecvBitsPerSecondARR:this.metricsHistory.map((function(e){return e.videoRecvBitsPerSecond})),videoSendBitsPerSecondARR:this.metricsHistory.map((function(e){return e.videoSendBitsPerSecond})),videoRecvPacketLossARR:this.metricsHistory.map((function(e){return e.videoRecvPacketLoss})),videoSendPacketLossARR:this.metricsHistory.map((function(e){return e.videoSendPacketLoss}))}).then((function(){console.log("saved metrics")})).catch((function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){this.db=k.firestore(),this.callFrame=window.DailyIframe.createFrame({showLeaveButton:!0}),this.callFrame.join({url:"https://dailydemoapp.daily.co/"+window.location.pathname.split("/")[2]}).then(function(){setTimeout(this.getTheNetworkStats,1e3)}.bind(this)).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("button",{onClick:this.getTheNetworkStats},"Get Network Stats"),n.a.createElement("button",{onClick:this.saveMetrics},"Save Metrics to Firebase"))}}]),o}(n.a.Component);i.a.render(n.a.createElement(h.a,null,n.a.createElement(m.a,{exact:!0,path:"/",component:p}),n.a.createElement(m.a,{path:"/Room/:roomID",render:function(e){return n.a.createElement(S,e)}})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.2da012b4.chunk.js.map