(this.webpackJsonpdailydashboard=this.webpackJsonpdailydashboard||[]).push([[0],{32:function(e,t,o){e.exports=o(54)},37:function(e,t,o){},38:function(e,t,o){e.exports=o.p+"static/media/logo.5d5d9eef.svg"},39:function(e,t,o){},54:function(e,t,o){"use strict";o.r(t);var n=o(2),i=o.n(n),a=o(29),c=o.n(a),s=(o(37),o(17)),r=o(18),d=o(12),S=o(20),_=o(21),l=(o(38),o(39),o(19)),v=o(9),u=function(e){Object(_.a)(o,e);var t=Object(S.a)(o);function o(e){var n;return Object(s.a)(this,o),(n=t.call(this,e)).state={callLink:""},n.createRoom=n.createRoom.bind(Object(d.a)(n)),n}return Object(r.a)(o,[{key:"createRoom",value:function(){fetch("/createRoom",{method:"post"}).then((function(e){return e.json()})).then(function(e){this.setState({callLink:"/Room/"+e.name})}.bind(this)).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement("button",{onClick:this.createRoom},"Create and navigate to room"),i.a.createElement(l.b,{to:this.state.callLink},this.state.callLink))}}]),o}(i.a.Component),O=Object(v.e)(u);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var E=o(22),T=o.n(E),m={apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_KEY,authDomain:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_AUTH_DOMAIN,databaseURL:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_DATABASE_URL,projectId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_PROJECT_ID,storageBucket:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_STORAGE_BUCKET,messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_MESSAGING_SENDER_ID,appId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_APP_ID,measurementId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_MEASUREMENT_ID};T.a.initializeApp(m),T.a.analytics();var h=T.a,P=function(e){Object(_.a)(o,e);var t=Object(S.a)(o);function o(e){var n;return Object(s.a)(this,o),(n=t.call(this,e)).getTheNetworkStats=n.getTheNetworkStats.bind(Object(d.a)(n)),n.saveMetrics=n.saveMetrics.bind(Object(d.a)(n)),n.metricsHistory=[],n}return Object(r.a)(o,[{key:"getTheNetworkStats",value:function(){"left-meeting"!==this.callFrame.meetingState()&&this.callFrame.getNetworkStats().then(function(e){console.log(e),setTimeout(this.getTheNetworkStats,1e3);var t=e.stats.latest;null!=t.timestamp&&this.metricsHistory.push({videoRecvBitsPerSecond:t.videoRecvBitsPerSecond,videoSendBitsPerSecond:t.videoSendBitsPerSecond,videoRecvPacketLoss:t.videoRecvPacketLoss,videoSendPacketLoss:t.videoSendPacketLoss})}.bind(this)).catch((function(e){console.log(e)}))}},{key:"saveMetrics",value:function(){console.log(this.metricsHistory),this.db.collection("person1").doc().set({videoRecvBitsPerSecondARR:this.metricsHistory.map((function(e){return e.videoRecvBitsPerSecond})),videoSendBitsPerSecondARR:this.metricsHistory.map((function(e){return e.videoSendBitsPerSecond})),videoRecvPacketLossARR:this.metricsHistory.map((function(e){return e.videoRecvPacketLoss})),videoSendPacketLossARR:this.metricsHistory.map((function(e){return e.videoSendPacketLoss}))}).then((function(){console.log("saved metrics")})).catch((function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){this.db=h.firestore(),this.callFrame=window.DailyIframe.createFrame({showLeaveButton:!0}),this.callFrame.join({url:"https://dailydemoapp.daily.co/"+window.location.pathname.split("/")[2]}).then(function(){setTimeout(this.getTheNetworkStats,1e3)}.bind(this)).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("button",{onClick:this.getTheNetworkStats},"Get Network Stats"),i.a.createElement("button",{onClick:this.saveMetrics},"Save Metrics to Firebase"))}}]),o}(i.a.Component);c.a.render(i.a.createElement(l.a,null,i.a.createElement(v.a,{exact:!0,path:"/",component:O}),i.a.createElement(v.a,{path:"/Room/:roomID",render:function(e){return i.a.createElement(P,e)}})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.c2505b0b.chunk.js.map